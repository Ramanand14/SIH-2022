<!DOCTYPE html>
 
<html>
	<head>
		<title> Sign up Form</title>
		<link rel="stylesheet" type="text/css" href="../../static/CSS/signup.css">
		<link href="https://fonts.googleapis.com/css?family=Poppins:600&display=swap" rel="stylesheet">
		<script src="https://kit.fontawesome.com/a81368914c.js"></script>
		<meta name="viewport" content="width=device-width, initial-scale=1">
	</head>

	<body>
		<div class="con">
			<div class="img">
				<img src="../../static/Images/background.jpg">
			</div>
		
			<div class="login">
				<form action="/sign_up" onsubmit ="return validateForm()" method="POST" enctype = "multipart/form-data">
					<img src="../../static/Images/Avatar.svg">
					<h2 class="title">Welcome</h2>
           			<div class="inp-m one">
           		   		<div class="i">
	           		   		<i class="fas fa-user"></i>
           		   		</div>
           		   	
						<div class="div">
           		   			<h5>Name</h5>
	           		   		<input type="text" class="input" name="username" required>
           		   		</div>
           			</div>
				   
					<div class="inp-m one">
						<div class="i">
							<i class="fas fa-envelope"></i>
						</div>
						
						<div class="div">
							<h5>Email</h5>
							<input type="email" class="input" name="email" required="">
						</div>
				 	</div>
				   
					<div class="inp-m pass">
						<div class="i"> 
							<i class="fa fa-child"></i>
						</div>
						
						<div class="div">
							<h5>Age</h5>
						 	<input type="number" class="input" name="age" required>
				 		</div>				 
			  		</div>
           			
					<div class="inp-m pass">
           		   		<div class="i"> 
	           		    	<i class="fas fa-lock"></i>
           		   		</div>
           		   		
						<div class="div">
	           		    	<h5>Password</h5>
           		    		<input id="password" type="password" class="input" name="password" required><span class="formerror"> </span></b>
            	   		</div>				   
            		</div>
           			
					<div class="inp-m pass">
           		   		<div class="i"> 
	           		    	<i class="fas fa-lock"></i>
           		   		</div>
           		   		
						<div class="div">
	           		    	<h5>Confirm password</h5>
           		    		<input id="confirm_password" type="password" class="input" name="rpassword" required >   
            	   		</div>
            		</div>
            	
					<p id = "message2" style="color:red"></p> 
            	
					<button type="submit" class="bt" onclick="wrong_pass_alert()">Sign Up</button>
            	</form>
        	</div>
    	</div>
    
		<script type="text/javascript">
			const inputs = document.querySelectorAll(".input");
			
			function addcl(){
				let parent = this.parentNode.parentNode;
				parent.classList.add("focus");
			}
		
			function remcl(){
				let parent = this.parentNode.parentNode;
				if(this.value == ""){
					parent.classList.remove("focus");
				}
			}
				
			inputs.forEach(input => {
				input.addEventListener("focus", addcl);
				input.addEventListener("blur", remcl);
			});
	
			function validateForm() {  
				var pw1 = document.getElementById("password").value;  
				if (pw1.length < 8){
					document.getElementById("message2").innerHTML = "Password is of minimum length 8";  
					return false;
				}

				if (pw1.search(/[0-9]/)==-1){
					document.getElementById("message2").innerHTML = "**password at least 1 number ";  
					return false;
				}
		
				if (pw1.search(/[!\@\#\?\%\~\^\*\_\-\+\(\)\(/)\<\,\>]/)==-1){
					document.getElementById("message2").innerHTML = "**password at least 1 special symbole  ";  
					return false;
				}

				var pw2 = document.getElementById("confirm_password").value;  

				if(pw1 != pw2) {  
					document.getElementById("message2").innerHTML = "**Passwords are not same";  
					return false;  
				} else {  
					alert ("Your response is submitted");  
					return true;					
				}  
			}  
		</script>
	</body>
</html>